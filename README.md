# HW2_Lapshova
### Выполните действия блока "Инструкция по запуску кода" из HW1  
**Выполните дополнительно: ** 


**Далее выполните:**
1)	Скачайте xls файл с данными по платежам (payments) по ссылке https://drive.google.com/open?id=1VwgP8Vc_RCNAoZK5tWt6aUqdET6cS5vS
2)	Поместите загруженный файл в папку, где у вас по результатам следования инструкции HW1 лежат папки 'applications' и 'contracts'
3)  Скачайте тетрадку HW2_Lapshova.ipynb по ссылке https://github.com/itlapshova/HW2_Lapshova.git и поместите её в созданную вами папку для папок 'applications' и 'contracts'
4)  Запустите весь код с помощью нажатия Cell -> Run All.

### Описание тетрадки HW2_Lapshova.ipynb
Третадка состоит из трёх частей, каждая часть соответствует пункту Домашнего задания №1.

1.	В первом пункте загружаются данные по контрактам и кредитным заявкам в виде таблиц в Python, таблицы предобрабатываются (корректируются форматы дат для дальнейшей загрузки в базу данных в единый формат даты, заменяются на NULL значения дат, превышающие лимиты Python, удаляются пустые по всем ID колонки, удаляются неотобранные для дальнейшей работы поля); создаются таблицы applications и contracts в базе данных, заполняются данными из таблиц Python. Таблицы связаны по полю id_number.

2.	Во втором пункте проверяются возможные ошибки в данных по разным типам переменных: 
    - отрицательные значения положительных по смыслу числовых переменных с заложенным исправлением
    - аномальные значения числовых переменных
    - ошибки в названиях категорий текстовых переменных с заложенным исправлением
    - ошибки в соотношении значений связанных по смыслу переменных (family, children)
    - ошибки в отображении дат с заложенным исправлением <br/><br/>
    Также создаётся поле возраста заёмщика и указывается, найдены ли заёмщики младше 18 лет. <br/>
    Все выводы и результаты проверок находятся внутри тетрадки
    
3.	В третьем пункте текстовые поля закодированы числами, для расшифровки кодов созданы и переданы в базу данных словари. Вид конечных таблиц и пример словарей для некоторых полей находятся внутри тетрадки.

### Результат выполнения кода

1.	В созданной базе данных появляются две таблицы: contracts (c данными по контрактам) и applications (с данными по анкетам).

2.	В поле position заменены значения <undefined> на NULL
3.	Создана переменная возраст (age) вместо даты рождения (date_of_birth)
4.	Все текстовые поля перекодированы в числа
5.	Для расшифровки кодов в базу данных переданы словари applications_dict, contracts_dict.


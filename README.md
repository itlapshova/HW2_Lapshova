# HW2_Lapshova
### Выполните действия блока "Инструкция по запуску кода" из HW1  
**Выполните дополнительно:** 


**Далее выполните:**
1)	Скачайте xls файл с данными по платежам (payments) по ссылке https://drive.google.com/open?id=1VwgP8Vc_RCNAoZK5tWt6aUqdET6cS5vS
2)	Поместите загруженный файл в папку, где у вас по результатам следования инструкции HW1 лежат папки 'applications' и 'contracts'
3)  Скачайте тетрадку HW2_Lapshova.ipynb по ссылке https://github.com/itlapshova/HW2_Lapshova.git и поместите её в созданную вами папку для папок 'applications' и 'contracts'
4)  Запустите весь код с помощью нажатия Cell -> Run All.

### Описание тетрадки HW2_Lapshova.ipynb (подробное описание кода внутри самой тетрадки
Третадка состоит из трёх частей, каждая часть соответствует пункту Домашнего задания №2.

1.  В первом пункте загружается таблица payments и отправляется в базу данных. 

2.	Во втором пункте происходит подключение к базе данных и проверка правильности загрузки в БД таблицы платежей

3.	В третьем пункте : 
    - по загруженной таблице платажей путем сравнения куммулятивных дисбалансов на каждую дату определяются моменты дефолтов 90+, после       этого обратно в БД отправляется таблица, состоящая только из контрактов, по которым были дефолты (с их датами). 
    - для заданного горизонта риска по объединенной таблице из трех таблиц (applications, contracts, defaults) с кредитами сроком не меньше горизонта риска находятся и помечаются флагом 1 только те заёмщики, у которых был дефолт на заданном горизонте риска.  
    - пользователю предлагается задать свои параметры для построения WOE или ROC по какой-либо переменной, в зависимости от указанных вводных строится либо то, либо другое. Для примера в самой тетрадке показан вывод как по WOE для категоризированной переменной, так и по ROC для непрерывной. Если пользователь строит показатель WOE, также выводится IV для каждой переменной.<br/><br/> 
    Все выводы и результаты проверок находятся внутри тетрадки

### Результат выполнения кода

1.	В созданной базе данных появляются две таблицы: payments (c данными по платежам) и defaults (с данными по датам дефолтных контрактов).
2.	Пользователю предложен инструмент для построения ROC или WOE, нахождения IV по выбранной переменной
